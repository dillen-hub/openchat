{"version":3,"file":"js/263-legacy.9c8bb89b.js","mappings":"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","sources":["webpack://openchat/./src/views/AdminRoomView.vue?dfa8","webpack://openchat/src/views/AdminRoomView.vue","webpack://openchat/./src/views/AdminRoomView.vue?6140","webpack://openchat/./src/views/AdminRoomView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-wrap w-full justify-center bg-sky-500 py-20\"},[(_vm.access)?_c('div',[_c('div',{staticClass:\"max-w-md mx-3 my-5 py-4 px-8 bg-white shadow-lg rounded-lg\"},[_c('h2',{staticClass:\"text-gray-800 text-3xl font-semibold\"},[_vm._v(\"加入管理層社群\")]),_c('p',{staticClass:\"mt-2 text-gray-600\"},[_vm._v(\"你好，\"+_vm._s(_vm.profile.nickname)+\"，這裡是加入密碼：\")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status),expression:\"status\"}],staticClass:\"mt-2 text-red-600\"},[_vm._v(_vm._s(_vm.status))]),_c('div',{staticClass:\"w-full mt-2 text-gray-600 flex rounded bg-white w-auto shadow-md\"},[_c('input',{staticClass:\"w-full border-none bg-transparent px-4 py-1 text-gray-900 outline-none focus:outline-none\",attrs:{\"type\":\"text\",\"disabled\":!_vm.ready},domProps:{\"value\":_vm.password}}),_c('button',{staticClass:\"m-2 rounded px-4 px-4 py-2 font-semibold\",attrs:{\"disabled\":!_vm.ready},on:{\"click\":_vm.copySecret}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ready),expression:\"!ready\"}],staticClass:\"animate-spin -ml-1 mr-3 h-5 w-5\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\"}},[_c('circle',{staticClass:\"opacity-25\",attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\",\"stroke\":\"currentColor\",\"stroke-width\":\"4\"}}),_c('path',{staticClass:\"opacity-75\",attrs:{\"fill\":\"currentColor\",\"d\":\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"}})]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ready),expression:\"ready\"}],staticClass:\"h-6 w-6\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"d\":\"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2\"}})])])]),_c('div',{staticClass:\"flex justify-end mt-4\"},[_c('a',{staticClass:\"flex items-center justify-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\",attrs:{\"href\":_vm.url}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ready),expression:\"!ready\"}],staticClass:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\"}},[_c('circle',{staticClass:\"opacity-25\",attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\",\"stroke\":\"currentColor\",\"stroke-width\":\"4\"}}),_c('path',{staticClass:\"opacity-75\",attrs:{\"fill\":\"currentColor\",\"d\":\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"}})]),_vm._v(\" 立即加入 \")])])])]):_c('div',{staticClass:\"text-white\"},[_vm._v(\" \"+_vm._s(_vm.ready ? \"存取遭拒\" : \"載入中...\")+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex flex-wrap w-full justify-center bg-sky-500 py-20\">\n    <div v-if=\"access\">\n      <div class=\"max-w-md mx-3 my-5 py-4 px-8 bg-white shadow-lg rounded-lg\">\n        <h2 class=\"text-gray-800 text-3xl font-semibold\">加入管理層社群</h2>\n        <p class=\"mt-2 text-gray-600\">你好，{{ profile.nickname }}，這裡是加入密碼：</p>\n        <p class=\"mt-2 text-red-600\" v-show=\"status\">{{ status }}</p>\n        <div class=\"w-full mt-2 text-gray-600 flex rounded bg-white w-auto shadow-md\">\n          <input class=\"w-full border-none bg-transparent px-4 py-1 text-gray-900 outline-none focus:outline-none\"\n                 type=\"text\" :value=\"password\" :disabled=\"!ready\">\n          <button class=\"m-2 rounded px-4 px-4 py-2 font-semibold\" @click=\"copySecret\" :disabled=\"!ready\">\n            <svg v-show=\"!ready\" class=\"animate-spin -ml-1 mr-3 h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\"\n                 fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n              <path class=\"opacity-75\" fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            <svg v-show=\"ready\" xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\"\n                 stroke=\"currentColor\" stroke-width=\"2\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2\"/>\n            </svg>\n          </button>\n        </div>\n        <div class=\"flex justify-end mt-4\">\n          <a\n              class=\"flex items-center justify-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\"\n              :href=\"url\"\n          >\n            <svg v-show=\"!ready\" class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\"\n                 fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n              <path class=\"opacity-75\" fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            立即加入\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"text-white\" v-else>\n      {{ ready ? \"存取遭拒\" : \"載入中...\" }}\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"AdminRoomView\",\n  data: () => ({\n    profile: null,\n    status: null,\n    ready: false,\n    access: false,\n    url: null,\n    password: null\n  }),\n  methods: {\n    copySecret() {\n      if (!navigator.clipboard) {\n        this.status = '您的瀏覽器不支援複製功能'\n        return\n      }\n      navigator.clipboard\n          .writeText(this.password)\n          .then(() => this.status = '已複製代碼')\n          .catch(() => this.status = '無法複製代碼')\n    },\n  },\n  async created() {\n    this.profile = await this.$profile();\n    if (!this.profile) {\n      const refer = `${process.env.VUE_APP_OPENCHAT_JOIN_HOST}/#/admin/room`;\n      const url = `${process.env.VUE_APP_SARA_INTE_HOST}/?refer=${encodeURIComponent(refer)}`;\n      location.assign(url);\n      return;\n    }\n    try {\n      const xhr = await this.$axios.get('/admin-room');\n      this.ready = true;\n      this.access = true;\n      this.url = xhr.data.url;\n      this.password = xhr.data.password;\n    } catch (error) {\n      this.ready = true;\n      if (!error?.response?.data?.code) {\n        this.status = '授權伺服器發生嚴重錯誤';\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdminRoomView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AdminRoomView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AdminRoomView.vue?vue&type=template&id=0c8b03b4&\"\nimport script from \"./AdminRoomView.vue?vue&type=script&lang=js&\"\nexport * from \"./AdminRoomView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","profile","nickname","directives","name","rawName","value","expression","status","attrs","ready","domProps","password","on","copySecret","url","staticRenderFns","data","access","methods","navigator","clipboard","writeText","then","catch","refer","process","encodeURIComponent","location","xhr","component"],"sourceRoot":""}