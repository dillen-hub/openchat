(self["webpackChunkopenchat"]=self["webpackChunkopenchat"]||[]).push([[247],{9247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex flex-wrap w-full justify-center bg-sky-500 py-20"},[n("div",{staticClass:"max-w-md mx-3 my-5 py-4 px-8 bg-white shadow-lg rounded-lg"},[n("h2",{staticClass:"text-gray-800 text-3xl font-semibold"},[e._v("檢查加入代碼")]),n("p",{staticClass:"mt-2 text-gray-600"},[e._v("請輸入申請人的加入代碼：")]),n("div",{staticClass:"w-full mt-2 text-gray-600 flex rounded bg-white w-auto shadow-md"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"w-full border-none bg-transparent px-4 py-1 text-gray-900 outline-none focus:outline-none",attrs:{type:"text",placeholder:"例如：000000"},domProps:{value:e.query},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)},input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("button",{staticClass:"m-2 rounded px-4 px-4 py-2 font-semibold",on:{click:e.submit}},[n("svg",{staticClass:"mt-1 h-6 w-6",attrs:{fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z","stroke-linecap":"round","stroke-linejoin":"round"}})])])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.application.code,expression:"application.code"}],staticClass:"max-w-md mx-3 my-5 py-4 px-8 bg-white shadow-lg rounded-lg"},[n("h2",{staticClass:"text-gray-800 text-3xl font-semibold"},[e._v(" 加入代碼："+e._s(e.application.code)+" ")]),n("p",{staticClass:"mt-2 text-gray-600"},[e._v(" 使用者代碼："+e._s(e.application.user_agent)),n("br"),e._v(" IP 位址："+e._s(e.application.ip_address)),n("br"),e._v(" 申請時間："+e._s(new Date(1e3*e.application.created_at))+" ")]),n("div",{staticClass:"flex justify-end mt-4"},[n("button",{staticClass:"flex items-center justify-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 mx-1 rounded-full",on:{click:e.approval}},[e._v(" 許可 ")]),n("button",{staticClass:"flex items-center justify-center bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 mx-1 rounded-full",on:{click:e.reject}},[e._v(" 否決 ")])])])])},a=[];n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(8783),n(3948),n(1637);var u={name:"AdminJoinView",data:function(){return{query:null,application:{}}},computed:{authOptions:function(){return{headers:{Authorization:localStorage.getItem("unified_token")}}}},methods:{submit:function(){var e=this,t=s(s({},this.authOptions),{},{params:{code:this.query}});this.$axios.get("application",t).then((function(t){return e.application=t.data})).catch((function(e){return console.error(e)}))},approval:function(){var e=this,t=new URLSearchParams;t.set("code",this.application.code);var n=s(s({},this.authOptions),{},{data:t});this.$axios.patch("application",n).then((function(){return e.application={}})).catch((function(e){return console.error(e)}))},reject:function(){var e=this,t=new URLSearchParams;t.set("code",this.application.code);var n=s(s({},this.authOptions),{},{data:t});this.$axios.delete("application",n).then((function(){return e.application={}})).catch((function(e){return console.error(e)}))}}},c=u,l=n(1001),h=(0,l.Z)(c,r,a,!1,null,null,null),p=h.exports},590:function(e,t,n){var r=n(7293),a=n(5112),i=n(1913),o=a("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},9337:function(e,t,n){var r=n(2109),a=n(9781),i=n(3887),o=n(5656),s=n(1236),u=n(6135);r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),a=s.f,c=i(r),l={},h=0;while(c.length>h)n=a(r,t=c[h++]),void 0!==n&&u(l,t,n);return l}})},1637:function(e,t,n){"use strict";n(6992);var r=n(2109),a=n(7854),i=n(5005),o=n(6916),s=n(1702),u=n(590),c=n(1320),l=n(2248),h=n(8003),p=n(4994),f=n(9909),d=n(5787),v=n(614),y=n(2597),g=n(9974),w=n(648),m=n(9670),b=n(111),x=n(1340),k=n(30),O=n(9114),R=n(8554),j=n(1246),U=n(8053),P=n(5112),C=n(4362),L=P("iterator"),_="URLSearchParams",S=_+"Iterator",q=f.set,E=f.getterFor(_),D=f.getterFor(S),I=i("fetch"),A=i("Request"),z=i("Headers"),$=A&&A.prototype,F=z&&z.prototype,N=a.RegExp,Q=a.TypeError,B=a.decodeURIComponent,H=a.encodeURIComponent,J=s("".charAt),T=s([].join),M=s([].push),V=s("".replace),Z=s([].shift),G=s([].splice),K=s("".split),W=s("".slice),X=/\+/g,Y=Array(4),ee=function(e){return Y[e-1]||(Y[e-1]=N("((?:%[\\da-f]{2}){"+e+"})","gi"))},te=function(e){try{return B(e)}catch(t){return e}},ne=function(e){var t=V(e,X," "),n=4;try{return B(t)}catch(r){while(n)t=V(t,ee(n--),te);return t}},re=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ie=function(e){return ae[e]},oe=function(e){return V(H(e),re,ie)},se=p((function(e,t){q(this,{type:S,iterator:R(E(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===J(e,0)?W(e,1):e:x(e)))};ue.prototype={type:_,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,a,i,s,u,c=j(e);if(c){t=R(e,c),n=t.next;while(!(r=o(n,t)).done){if(a=R(m(r.value)),i=a.next,(s=o(i,a)).done||(u=o(i,a)).done||!o(i,a).done)throw Q("Expected sequence with length 2");M(this.entries,{key:x(s.value),value:x(u.value)})}}else for(var l in e)y(e,l)&&M(this.entries,{key:l,value:x(e[l])})},parseQuery:function(e){if(e){var t,n,r=K(e,"&"),a=0;while(a<r.length)t=r[a++],t.length&&(n=K(t,"="),M(this.entries,{key:ne(Z(n)),value:ne(T(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],r=0;while(r<t.length)e=t[r++],M(n,oe(e.key)+"="+oe(e.value));return T(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ce=function(){d(this,le);var e=arguments.length>0?arguments[0]:void 0;q(this,new ue(e))},le=ce.prototype;if(l(le,{append:function(e,t){U(arguments.length,2);var n=E(this);M(n.entries,{key:x(e),value:x(t)}),n.updateURL()},delete:function(e){U(arguments.length,1);var t=E(this),n=t.entries,r=x(e),a=0;while(a<n.length)n[a].key===r?G(n,a,1):a++;t.updateURL()},get:function(e){U(arguments.length,1);for(var t=E(this).entries,n=x(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){U(arguments.length,1);for(var t=E(this).entries,n=x(e),r=[],a=0;a<t.length;a++)t[a].key===n&&M(r,t[a].value);return r},has:function(e){U(arguments.length,1);var t=E(this).entries,n=x(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){U(arguments.length,1);for(var n,r=E(this),a=r.entries,i=!1,o=x(e),s=x(t),u=0;u<a.length;u++)n=a[u],n.key===o&&(i?G(a,u--,1):(i=!0,n.value=s));i||M(a,{key:o,value:s}),r.updateURL()},sort:function(){var e=E(this);C(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=E(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),a=0;while(a<n.length)t=n[a++],r(t.value,t.key,this)},keys:function(){return new se(this,"keys")},values:function(){return new se(this,"values")},entries:function(){return new se(this,"entries")}},{enumerable:!0}),c(le,L,le.entries,{name:"entries"}),c(le,"toString",(function(){return E(this).serialize()}),{enumerable:!0}),h(ce,_),r({global:!0,forced:!u},{URLSearchParams:ce}),!u&&v(z)){var he=s(F.has),pe=s(F.set),fe=function(e){if(b(e)){var t,n=e.body;if(w(n)===_)return t=e.headers?new z(e.headers):new z,he(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(e,{body:O(0,x(n)),headers:O(0,t)})}return e};if(v(I)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return I(e,arguments.length>1?fe(arguments[1]):{})}}),v(A)){var de=function(e){return d(this,$),new A(e,arguments.length>1?fe(arguments[1]):{})};$.constructor=de,de.prototype=$,r({global:!0,forced:!0},{Request:de})}}e.exports={URLSearchParams:ce,getState:E}}}]);
//# sourceMappingURL=247-legacy.cd031522.js.map