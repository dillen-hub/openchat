"use strict";(self["webpackChunkopenchat"]=self["webpackChunkopenchat"]||[]).push([[740],{1740:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-wrap w-full justify-center bg-sky-500 py-20"},[t.access?s("div",[s("div",{staticClass:"max-w-md mx-3 my-5 py-4 px-8 bg-white shadow-lg rounded-lg"},[s("h2",{staticClass:"text-gray-800 text-3xl font-semibold"},[t._v("加入管理層社群")]),s("p",{staticClass:"mt-2 text-gray-600"},[t._v("你好，"+t._s(t.profile.nickname)+"，這裡是加入密碼：")]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.status,expression:"status"}],staticClass:"mt-2 text-red-600"},[t._v(t._s(t.status))]),s("div",{staticClass:"w-full mt-2 text-gray-600 flex rounded bg-white w-auto shadow-md"},[s("input",{staticClass:"w-full border-none bg-transparent px-4 py-1 text-gray-900 outline-none focus:outline-none",attrs:{type:"text",disabled:!t.ready},domProps:{value:t.password}}),s("button",{staticClass:"m-2 rounded px-4 px-4 py-2 font-semibold",attrs:{disabled:!t.ready},on:{click:t.copySecret}},[s("svg",{directives:[{name:"show",rawName:"v-show",value:!t.ready,expression:"!ready"}],staticClass:"animate-spin -ml-1 mr-3 h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[s("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),s("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),s("svg",{directives:[{name:"show",rawName:"v-show",value:t.ready,expression:"ready"}],staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"}})])])]),s("div",{staticClass:"flex justify-end mt-4"},[s("button",{staticClass:"flex items-center justify-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",attrs:{disabled:!t.ready}},[s("svg",{directives:[{name:"show",rawName:"v-show",value:!t.ready,expression:"!ready"}],staticClass:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[s("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),s("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" 立即加入 ")])])])]):s("div",{staticClass:"text-white"},[t._v(" "+t._s(t.ready?"存取遭拒":"載入中...")+" ")])])},r=[],n=s(6198),o=(s(8975),s(2222),{name:"AdminRoomView",data:function(){return{profile:null,status:null,ready:!1,access:!1,url:null,password:null}},methods:{copySecret:function(){var t=this;navigator.clipboard?navigator.clipboard.writeText(this.password).then((function(){return t.status="已複製代碼"})).catch((function(){return t.status="無法複製代碼"})):this.status="您的瀏覽器不支援複製功能"}},created:function(){var t=this;return(0,n.Z)(regeneratorRuntime.mark((function e(){var s,a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$profile();case 2:if(t.profile=e.sent,t.profile){e.next=8;break}return s="".concat("https://web-tech-tw.eu.org/openchat-join","/#/admin/room"),a="".concat("https://web-tech-tw.github.io/sara.inte","/?refer=").concat(s),location.assign(a),e.abrupt("return");case 8:return e.prev=8,e.next=11,t.$axios.get("/admin-room");case 11:r=e.sent,t.ready=!0,t.access=!0,t.url=r.data.url,t.password=r.data.password,e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](8),t.ready=!0,null!==e.t0&&void 0!==e.t0&&null!==(n=e.t0.response)&&void 0!==n&&null!==(o=n.data)&&void 0!==o&&o.code||(t.status="授權伺服器發生嚴重錯誤");case 22:case"end":return e.stop()}}),e,null,[[8,18]])})))()}}),i=o,l=s(1001),c=(0,l.Z)(i,a,r,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=740-legacy.d96f149e.js.map