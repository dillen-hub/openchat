{"version":3,"file":"js/776.ca4921b8.js","mappings":"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","sources":["webpack://openchat/./src/views/JoinChatView.vue?088f","webpack://openchat/src/views/JoinChatView.vue","webpack://openchat/./src/views/JoinChatView.vue?5c72","webpack://openchat/./src/views/JoinChatView.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex w-full justify-center bg-sky-500\"},[_c('div',{staticClass:\"max-w-md py-4 px-8 bg-white shadow-lg rounded-lg my-20\"},[_c('div',{staticClass:\"flex justify-center md:justify-end -mt-16\"},[_c('img',{staticClass:\"w-20 h-20 object-cover rounded-full border-2 border-white-500\",attrs:{\"alt\":_vm.info.name,\"src\":_vm.icon}})]),_c('div',[_c('h2',{staticClass:\"text-gray-800 text-3xl font-semibold\"},[_vm._v(_vm._s(_vm.info.name))]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.accept),expression:\"!accept\"}],staticClass:\"mt-2 text-gray-600\"},[_vm._v(_vm._s(_vm.info.description))]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.accept),expression:\"!accept\"}],staticClass:\"mt-2 text-amber-500\"},[_vm._v(\" 加入社群，即代表您同意遵守我們的 \"),_c('router-link',{staticClass:\"text-red-500\",attrs:{\"to\":\"/rule\"}},[_vm._v(\"社群守則\")]),_vm._v(\" 。 \")],1),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.status),expression:\"status\"}],staticClass:\"mt-2 text-red-600\"},[_vm._v(_vm._s(_vm.status))]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.accept),expression:\"accept\"}],staticClass:\"mt-2 text-gray-600\"},[_vm._v(\" 請複製這份代碼，再貼上到OpenChat的審核答案內： \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.accept),expression:\"accept\"}],staticClass:\"w-full mt-2 text-gray-600 flex rounded bg-white w-auto shadow-md\"},[_c('input',{staticClass:\"w-full border-none bg-transparent px-4 py-1 text-gray-900 outline-none focus:outline-none\",attrs:{\"type\":\"text\",\"disabled\":!_vm.ready},domProps:{\"value\":_vm.secret}}),_c('button',{staticClass:\"m-2 rounded px-4 px-4 py-2 font-semibold\",attrs:{\"disabled\":!_vm.ready},on:{\"click\":_vm.copySecret}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ready),expression:\"!ready\"}],staticClass:\"animate-spin -ml-1 mr-3 h-5 w-5\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\"}},[_c('circle',{staticClass:\"opacity-25\",attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\",\"stroke\":\"currentColor\",\"stroke-width\":\"4\"}}),_c('path',{staticClass:\"opacity-75\",attrs:{\"fill\":\"currentColor\",\"d\":\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"}})]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ready),expression:\"ready\"}],staticClass:\"h-6 w-6\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\"}},[_c('path',{attrs:{\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"d\":\"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2\"}})])])])]),_c('div',{staticClass:\"flex justify-end mt-4\"},[_c('button',{staticClass:\"flex items-center justify-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\",attrs:{\"disabled\":!_vm.ready},on:{\"click\":_vm.submit}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.ready),expression:\"!ready\"}],staticClass:\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\"}},[_c('circle',{staticClass:\"opacity-25\",attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\",\"stroke\":\"currentColor\",\"stroke-width\":\"4\"}}),_c('path',{staticClass:\"opacity-75\",attrs:{\"fill\":\"currentColor\",\"d\":\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"}})]),_vm._v(\" \"+_vm._s(_vm.state)+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"flex w-full justify-center bg-sky-500\">\n    <div class=\"max-w-md py-4 px-8 bg-white shadow-lg rounded-lg my-20\">\n      <div class=\"flex justify-center md:justify-end -mt-16\">\n        <img :alt=\"info.name\" class=\"w-20 h-20 object-cover rounded-full border-2 border-white-500\" :src=\"icon\">\n      </div>\n      <div>\n        <h2 class=\"text-gray-800 text-3xl font-semibold\">{{ info.name }}</h2>\n        <p class=\"mt-2 text-gray-600\" v-show=\"!accept\">{{ info.description }}</p>\n        <p class=\"mt-2 text-amber-500\" v-show=\"!accept\">\n          加入社群，即代表您同意遵守我們的\n          <router-link to=\"/rule\" class=\"text-red-500\">社群守則</router-link>\n          。\n        </p>\n        <p class=\"mt-2 text-red-600\" v-show=\"status\">{{ status }}</p>\n        <p class=\"mt-2 text-gray-600\" v-show=\"accept\">\n          請複製這份代碼，再貼上到OpenChat的審核答案內：\n        </p>\n        <div class=\"w-full mt-2 text-gray-600 flex rounded bg-white w-auto shadow-md\" v-show=\"accept\">\n          <input class=\"w-full border-none bg-transparent px-4 py-1 text-gray-900 outline-none focus:outline-none\"\n                 type=\"text\" :value=\"secret\" :disabled=\"!ready\">\n          <button class=\"m-2 rounded px-4 px-4 py-2 font-semibold\" @click=\"copySecret\" :disabled=\"!ready\">\n            <svg v-show=\"!ready\" class=\"animate-spin -ml-1 mr-3 h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\"\n                 fill=\"none\" viewBox=\"0 0 24 24\">\n              <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n              <path class=\"opacity-75\" fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n            </svg>\n            <svg v-show=\"ready\" xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\"\n                 stroke=\"currentColor\" stroke-width=\"2\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\"\n                    d=\"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2\"/>\n            </svg>\n          </button>\n        </div>\n      </div>\n      <div class=\"flex justify-end mt-4\">\n        <button\n            class=\"flex items-center justify-center bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full\"\n            @click=\"submit\"\n            :disabled=\"!ready\"\n        >\n          <svg v-show=\"!ready\" class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\"\n               fill=\"none\" viewBox=\"0 0 24 24\">\n            <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n            <path class=\"opacity-75\" fill=\"currentColor\"\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n          </svg>\n          {{ state }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport data from \"@/assets/hub.json\";\n\nexport default {\n  name: \"JoinChatView\",\n  props: {\n    code: {\n      type: String,\n      required: true\n    }\n  },\n  data: () => ({\n    info: {\n      name: null,\n      description: null,\n      url: null\n    },\n    secret: null,\n    status: null,\n    accept: false,\n    ready: true\n  }),\n  computed: {\n    icon() {\n      if (!this.code) return null;\n      return `${process.env.BASE_URL}static/images/chats/${this.code}.jpg`;\n    },\n    state() {\n      return !this.accept ?\n          \"加入社群\"\n          : this.ready\n              ? \"前往OpenChat界面貼上代碼\"\n              : \"載入中...\"\n    }\n  },\n  methods: {\n    copySecret() {\n      if (!navigator.clipboard) {\n        this.status = '您的瀏覽器不支援複製功能'\n        return\n      }\n      navigator.clipboard\n          .writeText(this.secret)\n          .then(() => this.status = '已複製代碼')\n          .catch(() => this.status = '無法複製代碼')\n    },\n    submit() {\n      if (!this.accept) {\n        this.accept = true;\n        this.ready = false;\n        const formData = new URLSearchParams();\n        formData.set('slug', this.code);\n        this.$axios\n            .post('application', formData)\n            .then((xhr) => {\n              this.ready = true;\n              this.secret = xhr.data.code;\n            })\n            .catch((error) => {\n              this.ready = true;\n              if (error?.response?.data?.code) {\n                this.secret = error?.response?.data?.code;\n              } else {\n                this.status = '授權伺服器發生嚴重錯誤';\n              }\n            });\n      } else {\n        location.href = this.info.url;\n      }\n    }\n  },\n  created() {\n    if (this.code in data) {\n      this.info = data[this.code];\n    } else {\n      this.$router.replace({name: \"join\"});\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JoinChatView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./JoinChatView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./JoinChatView.vue?vue&type=template&id=b078b450&\"\nimport script from \"./JoinChatView.vue?vue&type=script&lang=js&\"\nexport * from \"./JoinChatView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","info","name","icon","_v","_s","directives","rawName","value","accept","expression","description","status","ready","domProps","secret","on","copySecret","submit","state","staticRenderFns","props","code","type","String","required","data","url","computed","methods","navigator","clipboard","writeText","then","catch","location","href","formData","URLSearchParams","set","$axios","post","xhr","error","created","$router","replace","component"],"sourceRoot":""}